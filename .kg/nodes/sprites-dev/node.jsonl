{"v": 1, "slug": "sprites-dev", "title": "sprites-dev", "type": "concept", "created_at": "2026-02-22T05:24:00.453759+00:00"}
{"id": "b-d4eb1bf1", "type": "fact", "text": "sprites.dev VMs run on Fly.io \u2014 each sprite is a Fly machine on the Fly private WireGuard mesh. Sprites communicate internally via .flycast private addresses without authentication.", "created_at": "2026-02-22T05:24:00.453980+00:00"}
{"id": "b-5d0c841f", "type": "fact", "text": "each sprite exposes an HTTP proxy on port 8080 \u2014 this is how kg agent mux routing works: mux forwards to sprite-name:alice by hitting http://<sprite>.flycast:8080/agent/alice [[kg-agent-mux]]", "created_at": "2026-02-22T05:24:05.060223+00:00"}
{"id": "b-1cfce965", "type": "gotcha", "text": "Tailscale/WireGuard UDP is blocked on the public network \u2014 sprites can only use the Fly private mesh for peer-to-peer; external access must go through the HTTP proxy on port 8080 with Authorization: Bearer $SPRITES_TOKEN", "created_at": "2026-02-22T05:24:09.581727+00:00", "updated_at": "2026-02-22T05:29:37.945771+00:00"}
{"id": "b-f04f44eb", "type": "fact", "text": "public URL access requires Authorization: Bearer $SPRITES_TOKEN header \u2014 only needed for traffic coming from outside the Fly private mesh (.flycast addresses skip auth)", "created_at": "2026-02-22T05:24:13.079683+00:00"}
{"id": "b-ba6408cb", "type": "fact", "text": "Sprites are Fly.io persistent Linux VMs \u2014 hardware-isolated, start in 1-12s, sleep after inactivity but persist storage. Pre-installed with Claude Code. Each sprite gets a unique HTTP URL proxied to port 8080 inside.", "created_at": "2026-02-22T05:39:52.253521+00:00"}
{"id": "b-2a824758", "type": "decision", "text": "For mux-to-mux on Fly: use private .flycast URLs (no auth needed, fast). For non-Fly sprites: public URL + Bearer token. Configure per sprite in [[agents.sprites]] with optional token_env field.", "created_at": "2026-02-22T05:39:57.818998+00:00"}
{"id": "b-9014a0c2", "type": "fact", "text": "Sprite addressing in kg: local:alice = local mux agent, sprite-name:alice = agent on named remote mux. Message routing: local mux forwards to sprite mux_url if sprite \\!= 'local'. [[kg-agent-mux]]", "created_at": "2026-02-22T05:40:02.310537+00:00"}
