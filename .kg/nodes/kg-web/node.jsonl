{"v": 1, "slug": "kg-web", "title": "kg Web Viewer", "type": "concept", "created_at": "2026-02-20T09:58:21.099996+00:00"}
{"id": "b-ae9c1a0b", "type": "fact", "text": "kg web index page uses SQLite SELECT (slug, title, type, bullet_count) instead of iter_nodes() \u2014 avoids reading every node.jsonl; O(1) DB query vs O(N) file reads", "created_at": "2026-02-20T09:58:21.100322+00:00"}
{"id": "b-956a5398", "type": "fact", "text": "kg web _get_slugs_db(): SELECT slug FROM nodes \u2014 replaces FileStore.list_slugs() (iterdir + stat per dir) on every node and search page request", "created_at": "2026-02-20T09:58:21.100506+00:00"}
{"id": "b-c1b6898c", "type": "fact", "text": "kg web lazy Related section: node page renders <div id='kg-related'> placeholder + inline JS fetch('/api/related/<slug>'); page returns instantly, related loads async", "created_at": "2026-02-20T09:58:21.100679+00:00"}
{"id": "b-fc63f700", "type": "fact", "text": "/api/related/<slug> route: returns raw HTML fragment (no page wrapper); builds related via _related_html() after node page has already been sent to browser", "created_at": "2026-02-20T09:58:21.100840+00:00"}
{"id": "b-b319985c", "type": "fact", "text": "backlinks section (_backlinks_html) stays synchronous \u2014 it's fast (single DB query + read a few JSONL files); only Related is lazy (vector+FTS+reranker is the slow part)", "created_at": "2026-02-20T09:58:21.100986+00:00"}
{"id": "b-60370e13", "type": "fact", "text": "Search results page: doc results separated from concept node results, shown in collapsible 'Show N source file results' section (same docs-toggle-btn pattern as index page). Concept results show [[slug]] title format; doc results show <code>path</code> format.", "created_at": "2026-02-20T10:57:19.602737+00:00"}
